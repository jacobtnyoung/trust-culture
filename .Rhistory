# This file prepares the relational health and psychological
# safety variables for analysis with the knowledge scores
# ================================================================== #
# Setup ----
# Clear the workspace
rm( list = ls() )
# Load the libraries used
library( here )     # for calling local directory
library( dplyr )    # for working with the data
# ================================================================== #
# Load the data ----
dat <- read.csv(
here( "trust-culture-wrangling/trust-culture-rhps-cntrls-items.csv" ),
as.is = TRUE,
header = TRUE,
stringsAsFactors = FALSE
)
# ================================================================== #
# assign the variables to matrices ----
# extract the relational health variables, S3SS2_1-S3SS2_14
rh.vars <- as.matrix( dat[,
which( colnames( dat ) == ( "S3SS2_1" ) ):
which( colnames( dat ) == ( "S3SS2_14" ) )
] )
# extract the psychological safety variables, S3SS3_1-S3SS3_7
ps.vars <- as.matrix( dat[,
which( colnames( dat ) == ( "S3SS3_1" ) ):
which( colnames( dat ) == ( "S3SS3_7" ) )
] )
# ================================================================== #
# missing data ----
# function to replace the missing values
NA.replace <- function( input.dat, pdist ){
set.seed( 12345 )
for( i in 1:nrow( input.dat ) ){
for( j in 1:ncol( input.dat ) ){
if( is.na( input.dat[i,j] == TRUE ) )
input.dat[i,j] <- pdist
}
}
return( input.dat )
}
### relational health
# replace 15 missing values
table( is.na( rh.vars ) )
# execute the function
rh.vars   <- NA.replace( rh.vars, round( runif( n = 1, min = 1, max = 5 ), 0 ) )
# create the scale
rh.dat <- apply( rh.vars, 1, mean )
### psychological safety
# replace 29 missing values
table( is.na( ps.vars ) )
# execute the function
ps.vars   <- NA.replace( ps.vars, round( runif( n = 1, min = 1, max = 5 ), 0 ) )
# create the scale
ps.dat <- apply( ps.vars, 1, mean )
# ================================================================== #
# prep data for merging with the knowledge data ----
model.dat <- data.frame(
assignmentID = seq( 1:200 ),
ID = dat$id,
rh = rh.dat,
ps = ps.dat,
interviewer = dat$InterviewerType,
randomized = dat$Randomize,
age = dat$S4Q1,
white = dat$white,
black = dat$black,
hispanic = dat$hispanic,
timein_yrs = dat$timein_yrs
)
View(model.dat)
# ################################################################## #
# PAPER TITLE
# ################################################################## #
# This file prepares the relational health and psychological
# safety variables for analysis with the knowledge scores
# ================================================================== #
# Setup ----
# Clear the workspace
rm( list = ls() )
# Load the libraries used
library( here )     # for calling local directory
library( dplyr )    # for working with the data
# ================================================================== #
# Load the data ----
dat <- read.csv(
here( "trust-culture-wrangling/trust-culture-rhps-cntrls-items.csv" ),
as.is = TRUE,
header = TRUE,
stringsAsFactors = FALSE
)
# ================================================================== #
# assign the variables to matrices ----
# extract the relational health variables, S3SS2_1-S3SS2_14
rh.vars <- as.matrix( dat[,
which( colnames( dat ) == ( "S3SS2_1" ) ):
which( colnames( dat ) == ( "S3SS2_14" ) )
] )
# extract the psychological safety variables, S3SS3_1-S3SS3_7
ps.vars <- as.matrix( dat[,
which( colnames( dat ) == ( "S3SS3_1" ) ):
which( colnames( dat ) == ( "S3SS3_7" ) )
] )
# ================================================================== #
# missing data ----
# function to replace the missing values
NA.replace <- function( input.dat, pdist ){
set.seed( 12345 )
for( i in 1:nrow( input.dat ) ){
for( j in 1:ncol( input.dat ) ){
if( is.na( input.dat[i,j] == TRUE ) )
input.dat[i,j] <- pdist
}
}
return( input.dat )
}
### relational health
# replace 15 missing values
table( is.na( rh.vars ) )
# execute the function
rh.vars   <- NA.replace( rh.vars, round( runif( n = 1, min = 1, max = 5 ), 0 ) )
# create the scale
rh.dat <- apply( rh.vars, 1, mean )
### psychological safety
# replace 29 missing values
table( is.na( ps.vars ) )
# execute the function
ps.vars   <- NA.replace( ps.vars, round( runif( n = 1, min = 1, max = 5 ), 0 ) )
# create the scale
ps.dat <- apply( ps.vars, 1, mean )
# ================================================================== #
# prep data for merging with the knowledge data ----
model.dat <- data.frame(
assignmentID = seq( 1:200 ),
ID = dat$id,
rh = rh.dat,
ps = ps.dat,
interviewer = dat$InterviewerType,
randomized = dat$Randomize,
age = dat$S4Q1,
white = dat$white,
black = dat$black,
hispanic = dat$hispanic,
timein_yrs = dat$timein_yrs
)
# ================================================================== #
# save the file for calling in the analysis ----
saveRDS( model.dat, paste( here(), "/trust-culture-rodeo/trust.rhps.cntrls.vars.data", ".rds", sep = "" ) )
# ================================================================== #
# PAPER TITLE
# ================================================================== #
# This syntax file analyses the results from the
# trust-culture-heterogeneity-estimation.R file
# ================================================================== #
# Setup ----
# Clear the workspace
rm( list = ls() )
# Load the libraries used
library( CCTpack )  # for the cultural consensus models
library( here )     # for calling local directory
library( dplyr )    # for working with the data
library( reshape2 ) # for reworking the data
library( ggplot2 )  # for plotting
# ================================================================== #
# load the trust variables ----
# load the data
trust.vars <- readRDS( file = here( "trust-culture-rodeo/trust.fit.data.rds" ) )
# ================================================================== #
# Load the estimated models ----
# load the object and set the name
trust.fit.2.diff <- load( here( "trust-culture-rodeo/trust.fit.2.diff.Rdata" ) )
trust.fit.2.diff <- cctfit
# ================================================================== #
# Build Figure # of cultural knowledge ----
# build the object to plot
knowledgeDat <- data.frame(
assignmentID = trust.fit.2.diff$subj[,1],
culture      = trust.fit.2.diff$subj[,2],
knowledge    = trust.fit.2.diff$subj[,3]
)
# Calculate mean for each group
culturalMeansSds <- knowledgeDat %>%
group_by( culture ) %>%
summarise( mean_knowledge = round( mean( knowledge ), 2 ),
sd_knowledge = round( sd( knowledge ), 2 ) )
# Add a new variable that ranks responses within each group
knowledgeDat <- knowledgeDat %>%
arrange( culture, knowledge ) %>%
mutate( rank_knowledge = row_number() )
# Create the scatterplot
knowledgePlot <- ggplot( knowledgeDat,
aes( x = rank_knowledge,
y = knowledge,
color = as.factor( culture ) ) ) +
geom_point() +
labs( title = "Scatterplot of Responses by Group",
x = "Respondents",
y = "Knowledge/Expertise") +
geom_hline( data = culturalMeansSds,
aes( yintercept = mean_knowledge, colour = as.factor( culture ) ) ) +
theme_minimal() +
theme( legend.position = "top",
axis.text.x = element_blank() ) +
guides( color = guide_legend( title = "Group" ) )
print( knowledgePlot )
# export the image
pdf( file = here( "trust-culture-figures/trust.knowledge.pdf" ) )
print( knowledgePlot )
dev.off()
# ================================================================== #
# Cultural model assignment and knowledge as a predictor ----
# get the relational health and psychological safety variables
rhpsDat <- readRDS( file = here( "trust-culture-rodeo/trust.rhps.cntrls.vars.data.rds" ) )
# merge the cultural model data with the relational health and psychological safety data
match.id <- data.frame(
ID = trust.vars[,1]
)
modelDat <- inner_join( match.id, rhpsDat )
knowledgeDat <- knowledgeDat %>%
arrange( assignmentID )
modelDat <- left_join( knowledgeDat, modelDat )
modelDat
names(modelDat)
t.test( rh ~ , data = modelDat )
cor.test( formula = ~ rh + knowledge, data = modelDat )
t.test( rh ~ culture, data = modelDat )
cor.test( formula = ~ rh + knowledge, data = modelDat )
t.test( rh ~ interviewer, data = modelDat )
t.test( rh ~ randomized, data = modelDat )
cor.test( formula = ~ rh + age, data = modelDat )
t.test( rh ~ white, data = modelDat )
t.test( rh ~ black, data = modelDat )
t.test( rh ~ hispanic, data = modelDat )
cor.test( formula = ~ rh + timein_yrs, data = modelDat )
t.test( rh ~ culture, data = modelDat )
a <- t.test( rh ~ culture, data = modelDat )
a$statistic
a$p.value
rh.tests <- cbind(
t.test( rh ~ culture, data = modelDat ),
cor.test( formula = ~ rh + knowledge, data = modelDat )
)
rh.tests
cor.test( formula = ~ rh + knowledge, data = modelDat )
t.test( rh ~ culture, data = modelDat )$statistic
modelDat
dim(modelDat)
a<- cor.test( formula = ~ rh + knowledge, data = modelDat )
names(a)
statsTab <- matrix( NA, nrow = 8, ncol = 2 )
statsTab[1,1] <- t.test( rh ~ culture, data = modelDat )$statistic
statsTab[2,1] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$statistic
statsTab
statsTab <- matrix( NA, nrow = 9, ncol = 2 )
statsTab[1,1] <- t.test( rh ~ culture, data = modelDat )$statistic
statsTab[2,1] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$statistic
statsTab[3,1] <- t.test( rh ~ interviewer, data = modelDat )
statsTab <- matrix( NA, nrow = 9, ncol = 2 )
statsTab[1,1] <- t.test( rh ~ culture, data = modelDat )$statistic
statsTab[2,1] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$statistic
statsTab[3,1] <- t.test( rh ~ interviewer, data = modelDat )
statsTab[2,1] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$statistic
statsTab <- matrix( NA, nrow = 9, ncol = 2 )
statsTab[1,1] <- t.test( rh ~ culture, data = modelDat )$statistic
statsTab[2,1] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$statistic
statsTab[3,1] <- t.test( rh ~ interviewer, data = modelDat )$statistic
statsTab[4,1] <- t.test( rh ~ randomized, data = modelDat )$statistic
statsTab[5,1] <- cor.test( formula = ~ rh + age, data = modelDat )$statistic
statsTab[6,1] <- t.test( rh ~ white, data = modelDat )$statistic
statsTab[7,1] <- t.test( rh ~ black, data = modelDat )$statistic
statsTab[8,1] <- t.test( rh ~ hispanic, data = modelDat )$statistic
statsTab[9,1] <- cor.test( formula = ~ rh + timein_yrs, data = modelDat )$statistic
statsTab
statsTab <- matrix( NA, nrow = 9, ncol = 2 )
statsTab[1,1] <- t.test( rh ~ culture, data = modelDat )$statistic
statsTab[2,1] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$statistic
statsTab[3,1] <- t.test( rh ~ interviewer, data = modelDat )$statistic
statsTab[4,1] <- t.test( rh ~ randomized, data = modelDat )$statistic
statsTab[5,1] <- cor.test( formula = ~ rh + age, data = modelDat )$statistic
statsTab[6,1] <- t.test( rh ~ white, data = modelDat )$statistic
statsTab[7,1] <- t.test( rh ~ black, data = modelDat )$statistic
statsTab[8,1] <- t.test( rh ~ hispanic, data = modelDat )$statistic
statsTab[9,1] <- cor.test( formula = ~ rh + timein_yrs, data = modelDat )$statistic
statsTab[1,2] <- t.test( rh ~ culture, data = modelDat )$p.value
statsTab[2,2] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$p.value
statsTab[3,2] <- t.test( rh ~ interviewer, data = modelDat )$p.value
statsTab[4,2] <- t.test( rh ~ randomized, data = modelDat )$p.value
statsTab[5,2] <- cor.test( formula = ~ rh + age, data = modelDat )$p.value
statsTab[6,2] <- t.test( rh ~ white, data = modelDat )$p.value
statsTab[7,2] <- t.test( rh ~ black, data = modelDat )$p.value
statsTab[8,2] <- t.test( rh ~ hispanic, data = modelDat )$p.value
statsTab[9,2] <- cor.test( formula = ~ rh + timein_yrs, data = modelDat )$p.value
statsTab
statsTab <- matrix( NA, nrow = 9, ncol = 2 )
statsTab[1,1] <- t.test( rh ~ culture, data = modelDat )$statistic
statsTab[2,1] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$statistic
statsTab[3,1] <- t.test( rh ~ interviewer, data = modelDat )$statistic
statsTab[4,1] <- t.test( rh ~ randomized, data = modelDat )$statistic
statsTab[5,1] <- cor.test( formula = ~ rh + age, data = modelDat )$statistic
statsTab[6,1] <- t.test( rh ~ white, data = modelDat )$statistic
statsTab[7,1] <- t.test( rh ~ black, data = modelDat )$statistic
statsTab[8,1] <- t.test( rh ~ hispanic, data = modelDat )$statistic
statsTab[9,1] <- cor.test( formula = ~ rh + timein_yrs, data = modelDat )$statistic
statsTab[1,2] <- t.test( rh ~ culture, data = modelDat )$p.value
statsTab[2,2] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$p.value
statsTab[3,2] <- t.test( rh ~ interviewer, data = modelDat )$p.value
statsTab[4,2] <- t.test( rh ~ randomized, data = modelDat )$p.value
statsTab[5,2] <- cor.test( formula = ~ rh + age, data = modelDat )$p.value
statsTab[6,2] <- t.test( rh ~ white, data = modelDat )$p.value
statsTab[7,2] <- t.test( rh ~ black, data = modelDat )$p.value
statsTab[8,2] <- t.test( rh ~ hispanic, data = modelDat )$p.value
statsTab[9,2] <- cor.test( formula = ~ rh + timein_yrs, data = modelDat )$p.value
colnames( statsTab ) <- c( "statistic", "pvalue" )
statsTab <- round( statsTab, 2 )
statsTab
names(modelDat)
model1dat <- modelDat %>%
filter( culture == 1 )
model1dat
cultTab <- matrix( NA, nrow = 9, ncol = 2 )
cultTab[1,1] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$statistic
cultTab[2,1] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$statistic
cultTab[3,1] <- t.test( knowledge ~ interviewer, data = model1dat )$statistic
cultTab[4,1] <- t.test( knowledge ~ randomized, data = model1dat )$statistic
cultTab[5,1] <- cor.test( formula = ~ knowledge + age, data = model1dat )$statistic
cultTab[6,1] <- t.test( knowledge ~ white, data = model1dat )$statistic
cultTab[7,1] <- t.test( knowledge ~ black, data = model1dat )$statistic
cultTab[8,1] <- t.test( knowledge ~ hispanic, data = model1dat )$statistic
cultTab[9,1] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$statistic
cultTab
cultTab <- matrix( NA, nrow = 9, ncol = 2 )
cultTab[1,1] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$statistic
cultTab[2,1] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$statistic
cultTab[3,1] <- t.test( knowledge ~ interviewer, data = model1dat )$statistic
cultTab[4,1] <- t.test( knowledge ~ randomized, data = model1dat )$statistic
cultTab[5,1] <- cor.test( formula = ~ knowledge + age, data = model1dat )$statistic
cultTab[6,1] <- t.test( knowledge ~ white, data = model1dat )$statistic
cultTab[7,1] <- t.test( knowledge ~ black, data = model1dat )$statistic
cultTab[8,1] <- t.test( knowledge ~ hispanic, data = model1dat )$statistic
cultTab[9,1] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$statistic
cultTab[1,1] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$p.value
cultTab[2,1] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$p.value
cultTab[3,1] <- t.test( knowledge ~ interviewer, data = model1dat )$p.value
cultTab[4,1] <- t.test( knowledge ~ randomized, data = model1dat )$p.value
cultTab[5,1] <- cor.test( formula = ~ knowledge + age, data = model1dat )$p.value
cultTab[6,1] <- t.test( knowledge ~ white, data = model1dat )$p.value
cultTab[7,1] <- t.test( knowledge ~ black, data = model1dat )$p.value
cultTab[8,1] <- t.test( knowledge ~ hispanic, data = model1dat )$p.value
cultTab[9,1] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$p.value
cultTab
cultTab <- matrix( NA, nrow = 9, ncol = 2 )
cultTab[1,1] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$statistic
cultTab[2,1] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$statistic
cultTab[3,1] <- t.test( knowledge ~ interviewer, data = model1dat )$statistic
cultTab[4,1] <- t.test( knowledge ~ randomized, data = model1dat )$statistic
cultTab[5,1] <- cor.test( formula = ~ knowledge + age, data = model1dat )$statistic
cultTab[6,1] <- t.test( knowledge ~ white, data = model1dat )$statistic
cultTab[7,1] <- t.test( knowledge ~ black, data = model1dat )$statistic
cultTab[8,1] <- t.test( knowledge ~ hispanic, data = model1dat )$statistic
cultTab[9,1] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$statistic
cultTab[1,2] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$p.value
cultTab[2,2] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$p.value
cultTab[3,2] <- t.test( knowledge ~ interviewer, data = model1dat )$p.value
cultTab[4,2] <- t.test( knowledge ~ randomized, data = model1dat )$p.value
cultTab[5,2] <- cor.test( formula = ~ knowledge + age, data = model1dat )$p.value
cultTab[6,2] <- t.test( knowledge ~ white, data = model1dat )$p.value
cultTab[7,2] <- t.test( knowledge ~ black, data = model1dat )$p.value
cultTab[8,2] <- t.test( knowledge ~ hispanic, data = model1dat )$p.value
cultTab[9,2] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$p.value
cultTab
model1dat <- modelDat %>%
filter( culture == 2 )
cultTab <- matrix( NA, nrow = 9, ncol = 2 )
cultTab[1,1] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$statistic
cultTab[2,1] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$statistic
cultTab[3,1] <- t.test( knowledge ~ interviewer, data = model1dat )$statistic
cultTab[4,1] <- t.test( knowledge ~ randomized, data = model1dat )$statistic
cultTab[5,1] <- cor.test( formula = ~ knowledge + age, data = model1dat )$statistic
cultTab[6,1] <- t.test( knowledge ~ white, data = model1dat )$statistic
cultTab[7,1] <- t.test( knowledge ~ black, data = model1dat )$statistic
cultTab[8,1] <- t.test( knowledge ~ hispanic, data = model1dat )$statistic
cultTab[9,1] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$statistic
cultTab[1,2] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$p.value
cultTab[2,2] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$p.value
cultTab[3,2] <- t.test( knowledge ~ interviewer, data = model1dat )$p.value
cultTab[4,2] <- t.test( knowledge ~ randomized, data = model1dat )$p.value
cultTab[5,2] <- cor.test( formula = ~ knowledge + age, data = model1dat )$p.value
cultTab[6,2] <- t.test( knowledge ~ white, data = model1dat )$p.value
cultTab[7,2] <- t.test( knowledge ~ black, data = model1dat )$p.value
cultTab[8,2] <- t.test( knowledge ~ hispanic, data = model1dat )$p.value
cultTab[9,2] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$p.value
cultTab
cor.test( formula = ~ rh + knowledge, data = model1dat )
names(cor.test( formula = ~ rh + knowledge, data = model1dat ))
cor.test( formula = ~ rh + knowledge, data = model1dat )$parameter
cor.test( formula = ~ rh + knowledge, data = model1dat )$estimate
model1dat <- modelDat %>%
filter( culture == 1 )
cultTab <- matrix( NA, nrow = 9, ncol = 2 )
cultTab[1,1] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$estimate
cultTab[2,1] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$estimate
cultTab[3,1] <- t.test( knowledge ~ interviewer, data = model1dat )$statistic
cultTab[4,1] <- t.test( knowledge ~ randomized, data = model1dat )$statistic
cultTab[5,1] <- cor.test( formula = ~ knowledge + age, data = model1dat )$estimate
cultTab[6,1] <- t.test( knowledge ~ white, data = model1dat )$statistic
cultTab[7,1] <- t.test( knowledge ~ black, data = model1dat )$statistic
cultTab[8,1] <- t.test( knowledge ~ hispanic, data = model1dat )$statistic
cultTab[9,1] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$estimate
cultTab[1,2] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$p.value
cultTab[2,2] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$p.value
cultTab[3,2] <- t.test( knowledge ~ interviewer, data = model1dat )$p.value
cultTab[4,2] <- t.test( knowledge ~ randomized, data = model1dat )$p.value
cultTab[5,2] <- cor.test( formula = ~ knowledge + age, data = model1dat )$p.value
cultTab[6,2] <- t.test( knowledge ~ white, data = model1dat )$p.value
cultTab[7,2] <- t.test( knowledge ~ black, data = model1dat )$p.value
cultTab[8,2] <- t.test( knowledge ~ hispanic, data = model1dat )$p.value
cultTab[9,2] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$p.value
cultTab
model1dat <- modelDat %>%
filter( culture == 2 )
cultTab <- matrix( NA, nrow = 9, ncol = 2 )
cultTab[1,1] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$statistic
cultTab[2,1] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$statistic
cultTab[3,1] <- t.test( knowledge ~ interviewer, data = model1dat )$statistic
cultTab[4,1] <- t.test( knowledge ~ randomized, data = model1dat )$statistic
cultTab[5,1] <- cor.test( formula = ~ knowledge + age, data = model1dat )$statistic
cultTab[6,1] <- t.test( knowledge ~ white, data = model1dat )$statistic
cultTab[7,1] <- t.test( knowledge ~ black, data = model1dat )$statistic
cultTab[8,1] <- t.test( knowledge ~ hispanic, data = model1dat )$statistic
cultTab[9,1] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$statistic
cultTab[1,2] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$p.value
cultTab[2,2] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$p.value
cultTab[3,2] <- t.test( knowledge ~ interviewer, data = model1dat )$p.value
cultTab[4,2] <- t.test( knowledge ~ randomized, data = model1dat )$p.value
cultTab[5,2] <- cor.test( formula = ~ knowledge + age, data = model1dat )$p.value
cultTab[6,2] <- t.test( knowledge ~ white, data = model1dat )$p.value
cultTab[7,2] <- t.test( knowledge ~ black, data = model1dat )$p.value
cultTab[8,2] <- t.test( knowledge ~ hispanic, data = model1dat )$p.value
cultTab[9,2] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$p.value
cultTab
model1dat <- modelDat %>%
filter( culture == 2 )
cultTab <- matrix( NA, nrow = 9, ncol = 2 )
cultTab[1,1] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$estimate
cultTab[2,1] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$estimate
cultTab[3,1] <- t.test( knowledge ~ interviewer, data = model1dat )$statistic
cultTab[4,1] <- t.test( knowledge ~ randomized, data = model1dat )$statistic
cultTab[5,1] <- cor.test( formula = ~ knowledge + age, data = model1dat )$estimate
cultTab[6,1] <- t.test( knowledge ~ white, data = model1dat )$statistic
cultTab[7,1] <- t.test( knowledge ~ black, data = model1dat )$statistic
cultTab[8,1] <- t.test( knowledge ~ hispanic, data = model1dat )$statistic
cultTab[9,1] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$estimate
cultTab[1,2] <- cor.test( formula = ~ rh + knowledge, data = model1dat )$p.value
cultTab[2,2] <- cor.test( formula = ~ ps + knowledge, data = model1dat )$p.value
cultTab[3,2] <- t.test( knowledge ~ interviewer, data = model1dat )$p.value
cultTab[4,2] <- t.test( knowledge ~ randomized, data = model1dat )$p.value
cultTab[5,2] <- cor.test( formula = ~ knowledge + age, data = model1dat )$p.value
cultTab[6,2] <- t.test( knowledge ~ white, data = model1dat )$p.value
cultTab[7,2] <- t.test( knowledge ~ black, data = model1dat )$p.value
cultTab[8,2] <- t.test( knowledge ~ hispanic, data = model1dat )$p.value
cultTab[9,2] <- cor.test( formula = ~ knowledge + timein_yrs, data = model1dat )$p.value
cultTab
statsTab <- matrix( NA, nrow = 9, ncol = 2 )
statsTab[1,1] <- t.test( rh ~ culture, data = modelDat )$statistic
statsTab[2,1] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$estimate
statsTab[3,1] <- t.test( rh ~ interviewer, data = modelDat )$statistic
statsTab[4,1] <- t.test( rh ~ randomized, data = modelDat )$statistic
statsTab[5,1] <- cor.test( formula = ~ rh + age, data = modelDat )$estimate
statsTab[6,1] <- t.test( rh ~ white, data = modelDat )$statistic
statsTab[7,1] <- t.test( rh ~ black, data = modelDat )$statistic
statsTab[8,1] <- t.test( rh ~ hispanic, data = modelDat )$statistic
statsTab[9,1] <- cor.test( formula = ~ rh + timein_yrs, data = modelDat )$estimate
statsTab[1,2] <- t.test( rh ~ culture, data = modelDat )$p.value
statsTab[2,2] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$p.value
statsTab[3,2] <- t.test( rh ~ interviewer, data = modelDat )$p.value
statsTab[4,2] <- t.test( rh ~ randomized, data = modelDat )$p.value
statsTab[5,2] <- cor.test( formula = ~ rh + age, data = modelDat )$p.value
statsTab[6,2] <- t.test( rh ~ white, data = modelDat )$p.value
statsTab[7,2] <- t.test( rh ~ black, data = modelDat )$p.value
statsTab[8,2] <- t.test( rh ~ hispanic, data = modelDat )$p.value
statsTab[9,2] <- cor.test( formula = ~ rh + timein_yrs, data = modelDat )$p.value
colnames( statsTab ) <- c( "statistic", "pvalue" )
statsTab <- round( statsTab, 2 )
statsTab
statsTab <- matrix( NA, nrow = 9, ncol = 2 )
statsTab[1,1] <- t.test( rh ~ culture, data = modelDat )$statistic
statsTab[2,1] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$estimate
statsTab[3,1] <- t.test( rh ~ interviewer, data = modelDat )$statistic
statsTab[4,1] <- t.test( rh ~ randomized, data = modelDat )$statistic
statsTab[5,1] <- cor.test( formula = ~ rh + age, data = modelDat )$estimate
statsTab[6,1] <- t.test( rh ~ white, data = modelDat )$statistic
statsTab[7,1] <- t.test( rh ~ black, data = modelDat )$statistic
statsTab[8,1] <- t.test( rh ~ hispanic, data = modelDat )$statistic
statsTab[9,1] <- cor.test( formula = ~ rh + timein_yrs, data = modelDat )$estimate
statsTab[1,2] <- t.test( rh ~ culture, data = modelDat )$p.value
statsTab[2,2] <- cor.test( formula = ~ rh + knowledge, data = modelDat )$p.value
statsTab[3,2] <- t.test( rh ~ interviewer, data = modelDat )$p.value
statsTab[4,2] <- t.test( rh ~ randomized, data = modelDat )$p.value
statsTab[5,2] <- cor.test( formula = ~ rh + age, data = modelDat )$p.value
statsTab[6,2] <- t.test( rh ~ white, data = modelDat )$p.value
statsTab[7,2] <- t.test( rh ~ black, data = modelDat )$p.value
statsTab[8,2] <- t.test( rh ~ hispanic, data = modelDat )$p.value
statsTab[9,2] <- cor.test( formula = ~ rh + timein_yrs, data = modelDat )$p.value
colnames( statsTab ) <- c( "statistic", "pvalue" )
rownames( statsTab ) <- c( "Cultural Model", "Knowledge", "Interviewer", "Randomized", "Age", "White", "Black", "Hispanic", "Time In" )
statsTab <- round( statsTab, 2 )
statsTab
t.test( rh ~ culture, data = modelDat )
t.test( rh ~ culture, data = modelDat t.test( rh ~ black, data = modelDat ))$statistic
t.test( rh ~ black, data = modelDat )
t.test( rh ~ randomized, data = modelDat )
